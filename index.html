<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>لعبة حروف تركي</title>

<style>
/* إعدادات سريعة – عدّل الأرقام لو تبغى حجم أو سماكة مختلفة */
:root{
  --hex: 90;        /* عرض الخلية بالبيكسل            */
  --gap: 6;         /* المسافة بين الخلايا             */
  --stroke: 2;      /* سماكة الحدود السوداء            */
  --blue:#2196F3;   /* لون الفريق الأزرق              */
  --red:#F44336;    /* لون الفريق الأحمر             */
}

/* reset عام */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Arial, sans-serif;
  background:#eef0f2;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}
h1{margin:24px 0;font-size:34px}

/* ------------ شبكة خلايا النحل ------------ */
.board{
  display:flex;
  flex-direction:column;
  gap:calc(var(--gap)*1px);
}
.row{
  display:flex;
  gap:calc(var(--gap)*1px);
}
.row.offset{
  /* إزاحة نصف خلية لإيجاد التعشيق */
  margin-inline-start:calc(var(--hex)*0.5px + var(--gap)*0.5px);
}

/* ------------ الخلية الفردية ------------ */
.hex{
  width:calc(var(--hex)*1px);
  aspect-ratio: 1.154;          /* يناسب 100 × 86  (Flat-Top) */
  position:relative;
  cursor:pointer;
}
.hex svg{width:100%;height:100%}
.hex text{
  dominant-baseline:middle;
  text-anchor:middle;
  font:700 calc(var(--hex)*0.38px)/1 Arial;
  pointer-events:none;
}

/* ألوان الفرق */
.hex.blue .poly{fill:var(--blue);stroke:var(--blue)}
.hex.red  .poly{fill:var(--red); stroke:var(--red)}
.hex:active{transform:scale(.94)}
</style>
</head>

<body>
<h1>لعبة حروف تركي</h1>
<div id="grid" class="board"></div>

<script>
/* الحروف العربية الأساسية */
const letters="ابتثجحخدذرزسشصضطظعغفقكلمنهوي".split('');
let cells=[];
const grid=document.getElementById('grid');

/* بناء السبورة */
function build(chars){
  grid.innerHTML=''; cells=[];
  for(let r=0;r<5;r++){
    const row=document.createElement('div');
    row.className='row'+(r%2?' offset':'');
    for(let c=0;c<5;c++){
      const ch=chars[r*5+c];
      const cell=document.createElement('div');
      cell.className='hex';
      cell.dataset.row=r;
      cell.dataset.col=c;

      /* SVG داخل كل خلية – يضمن شكل سداسي مثالي وحدود متصلة */
      cell.innerHTML=`<svg viewBox="0 0 100 86">
        <polygon class="poly"
                 points="25,0 75,0 100,43 75,86 25,86 0,43"
                 fill="#fff" stroke="#000" stroke-width="2"/>
        <text x="50" y="43">${ch}</text>
      </svg>`;

      cell.onclick=()=>toggle(cell);
      cells.push(cell);
      row.appendChild(cell);
    }
    grid.appendChild(row);
  }
}

/* تبديل اللون عند الضغط */
function toggle(el){
  if(el.classList.contains('blue'))      el.classList.replace('blue','red');
  else if(el.classList.contains('red'))  el.classList.remove('red');
  else                                   el.classList.add('blue');
}

/* توليد 25 حرف عشوائي (مع حذف 3 حتى يصفّي العدد) */
function shuffle(){
  const pool=[...letters];
  for(let i=0;i<3;i++) pool.splice(Math.random()*pool.length|0,1);
  const chosen=pool.sort(()=>Math.random()-0.5).slice(0,25);
  build(chosen);
}

shuffle();   /* تشغيل أوّل مرة */
</script>
</body>
</html>